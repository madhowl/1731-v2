# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–Ω—è—Ç–∏–µ 15: –û–û–ü - –ø–∞—Ç—Ç–µ—Ä–Ω Observer –≤ –∏–≥—Ä–æ–≤–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

## –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ –∏–≥—Ä–æ–≤—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏, –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏ –∏ —Å—É–±—ä–µ–∫—Ç—ã

### –¶–µ–ª—å –∑–∞–Ω—è—Ç–∏—è:
–ù–∞—É—á–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –≤ Python, –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å—É–±—ä–µ–∫—Ç–æ–≤ –∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Observer –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –∏–≥—Ä–æ–≤–æ–π —Å—Ä–µ–¥–µ.

### –ó–∞–¥–∞—á–∏:
1. –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –∏ —Å—É–±—ä–µ–∫—Ç–∞
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Observer –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π: –ø—Ä–æ—Å—Ç—ã–µ, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ
4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã –û–û–ü –∏ –ø–∞—Ç—Ç–µ—Ä–Ω Observer –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –≤ –∏–≥—Ä–æ–≤–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

### –ü–ª–∞–Ω —Ä–∞–±–æ—Ç—ã:
1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ –∏–≥—Ä–æ–≤—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏
2. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –∏ —Å—É–±—ä–µ–∫—Ç–∞
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –∏ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è—Ö
5. –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–ª–∞—Å—Å–æ–≤ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –∏ —Å—É–±—ä–µ–∫—Ç–æ–≤
6. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è –≤ –∏–≥—Ä–æ–≤–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

---
# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–Ω—è—Ç–∏–µ 15: –û–û–ü - –ø–∞—Ç—Ç–µ—Ä–Ω Observer –≤ –∏–≥—Ä–æ–≤–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

## –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –∑–∞ –∏–≥—Ä–æ–≤—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏, –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏ –∏ —Å—É–±—ä–µ–∫—Ç—ã

### –¶–µ–ª—å –∑–∞–Ω—è—Ç–∏—è:
–ù–∞—É—á–∏—Ç—å—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –≤ Python, –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —Å—É–±—ä–µ–∫—Ç–æ–≤ –∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Observer –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ –∏–≥—Ä–æ–≤–æ–π —Å—Ä–µ–¥–µ.

### –ó–∞–¥–∞—á–∏:
1. –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –∏ —Å—É–±—ä–µ–∫—Ç–∞
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Observer –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏—è—Ö
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π: –ø—Ä–æ—Å—Ç—ã–µ, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ
4. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø—ã –û–û–ü –∏ –ø–∞—Ç—Ç–µ—Ä–Ω Observer –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –≤ –∏–≥—Ä–æ–≤–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

---

## 1. –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Observer

**–ü–∞—Ç—Ç–µ—Ä–Ω Observer (–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å)** ‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å "–æ–¥–∏–Ω –∫–æ –º–Ω–æ–≥–∏–º" –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏, —Ç–∞–∫ —á—Ç–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –æ–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ (—Å—É–±—ä–µ–∫—Ç–∞) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ (–Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π).

**–°—É–±—ä–µ–∫—Ç (Subject)** ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –ø–æ–¥–ø–∏—Å–∞–Ω—ã –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏. –û–Ω —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ø–∏—Å–∫–æ–º —Å–≤–æ–∏—Ö –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –∏—Ö –æ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.

**–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å (Observer)** ‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç —Å—É–±—ä–µ–∫—Ç–∞ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏.

### –ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–≥–æ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è (—É—Ä–æ–≤–µ–Ω—å 1 - –Ω–∞—á–∞–ª—å–Ω—ã–π)

```python
from abc import ABC, abstractmethod
from typing import List

class Observer(ABC):
    """
    –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
    """
    @abstractmethod
    def update(self, event_type: str, data: dict = None):
        """
        –ú–µ—Ç–æ–¥ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏
        """
        pass

class Subject(ABC):
    """
    –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—É–±—ä–µ–∫—Ç–∞, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º –º–æ–≥—É—Ç –Ω–∞–±–ª—é–¥–∞—Ç—å –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏
    """
    def __init__(self):
        self._observers: List[Observer] = []

    def attach(self, observer: Observer):
        """–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"""
        if observer not in self._observers:
            self._observers.append(observer)

    def detach(self, observer: Observer):
        """–û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"""
        if observer in self._observers:
            self._observers.remove(observer)

    def notify(self, event_type: str, data: dict = None):
        """–£–≤–µ–¥–æ–º–∏—Ç—å –≤—Å–µ—Ö –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏"""
        for observer in self._observers:
            observer.update(event_type, data)


class Player(Subject):
    """
    –ö–ª–∞—Å—Å –∏–≥—Ä–æ–∫–∞, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º –º–æ–≥—É—Ç –Ω–∞–±–ª—é–¥–∞—Ç—å –¥—Ä—É–≥–∏–µ –æ–±—ä–µ–∫—Ç—ã
    """
    def __init__(self, name: str, health: int = 100):
        super().__init__()
        self.name = name
        self._health = health
        self._max_health = health
        self._level = 1
        self._experience = 0
        self.is_alive = True

    @property
    def health(self):
        return self._health

    @health.setter
    def health(self, value: int):
        old_health = self._health
        self._health = max(0, min(self._max_health, value))
        if self._health <= 0:
            self._health = 0
            self.is_alive = False
            # –£–≤–µ–¥–æ–º–ª—è–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ —Å–º–µ—Ä—Ç–∏ –∏–≥—Ä–æ–∫–∞
            self.notify("player_died", {"player": self, "old_health": old_health, "new_health": self._health})
        elif old_health != self._health:
            # –£–≤–µ–¥–æ–º–ª—è–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–¥–æ—Ä–æ–≤—å—è
            self.notify("player_health_changed", {"player": self, "old_health": old_health, "new_health": self._health})

    @property
    def level(self):
        return self._level

    @level.setter
    def level(self, value: int):
        old_level = self._level
        self._level = value
        if self._level > old_level:
            # –£–≤–µ–¥–æ–º–ª—è–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è
            self.notify("player_leveled_up", {"player": self, "old_level": old_level, "new_level": self._level})

    def take_damage(self, damage: int):
        """–ü–æ–ª—É—á–∏—Ç—å —É—Ä–æ–Ω"""
        self.health -= damage
        self.notify("player_damaged", {"player": self, "damage_amount": damage})

    def gain_experience(self, exp: int):
        """–ü–æ–ª—É—á–∏—Ç—å –æ–ø—ã—Ç"""
        self._experience += exp
        self.notify("player_gained_experience", {"player": self, "exp_gained": exp, "total_exp": self._experience})
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –ø–æ—Ä–∞ –ª–∏ –ø–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å
        required_exp = self._level * 100  # –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞
        if self._experience >= required_exp:
            self.level_up()

    def level_up(self):
        """–ü–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –∏–≥—Ä–æ–∫–∞"""
        self._experience = 0  # –°–±—Ä–∞—Å—ã–≤–∞–µ–º –æ–ø—ã—Ç –ø—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è
        self._level += 1
        self._max_health += 20  # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ
        self.health = self._max_health  # –ü–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–¥–æ—Ä–æ–≤—å–µ
        self.level = self._level  # –í—ã–∑—ã–≤–∞–µ–º —Å–µ—Ç—Ç–µ—Ä –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

    def get_info(self):
        return f"{self.name}: Lvl.{self._level}, HP {self._health}/{self._max_health}, EXP {self._experience}"


class HealthBarObserver(Observer):
    """
    –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –∑–¥–æ—Ä–æ–≤—å—è –∏–≥—Ä–æ–∫–∞
    """
    def update(self, event_type: str, data: dict = None):
        if event_type == "player_health_changed":
            player = data.get("player")
            if player:
                print(f"üìä –ü–æ–ª–æ—Å–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è {player.name}: {player.health}/{player._max_health}")


class LevelUpObserver(Observer):
    """
    –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ –ø–æ–≤—ã—à–µ–Ω–∏–µ–º —É—Ä–æ–≤–Ω—è –∏–≥—Ä–æ–∫–∞
    """
    def update(self, event_type: str, data: dict = None):
        if event_type == "player_leveled_up":
            player = data.get("player")
            if player:
                new_level = data.get("new_level", "N/A")
                print(f"üìà {player.name} –¥–æ—Å—Ç–∏–≥ {new_level} —É—Ä–æ–≤–Ω—è!")


# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
player = Player("–ê—Ä—Ç—É—Ä", health=100)

# –°–æ–∑–¥–∞–µ–º –∏ –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π
health_observer = HealthBarObserver()
level_observer = LevelUpObserver()

player.attach(health_observer)
player.attach(level_observer)

print(f"–ò–≥—Ä–æ–∫: {player.get_info()}")

# –ù–∞–Ω–æ—Å–∏–º —É—Ä–æ–Ω –∏–≥—Ä–æ–∫—É
player.take_damage(30)

# –ò–≥—Ä–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç –æ–ø—ã—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –ø–æ–≤—ã—à–µ–Ω–∏—é —É—Ä–æ–≤–Ω—è
player.gain_experience(150)

print(f"\n–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:")
print(f"–ò–≥—Ä–æ–∫: {player.get_info()}")
```

---

## 2. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è

### –£—Ä–æ–≤–µ–Ω—å 1 - –ù–∞—á–∞–ª—å–Ω—ã–π

#### –ó–∞–¥–∞–Ω–∏–µ 1.1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –∑–∞ —Å–º–µ—Ä—Ç—å—é –∏–≥—Ä–æ–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `DeathObserver`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω, –∫–æ–≥–¥–∞ –∏–≥—Ä–æ–∫ —É–º—Ä–µ—Ç. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `update`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Å–º–µ—Ä—Ç–∏ –∏–≥—Ä–æ–∫–∞ –∏ –ø—Ä–∏—á–∏–Ω—É —Å–º–µ—Ä—Ç–∏.

**–®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
1. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `DeathObserver`, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–π—Å—è –æ—Ç `Observer`
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ç–æ–¥ `update` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏—è "player_died"
3. –í—ã–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Å–º–µ—Ä—Ç–∏ –∏–≥—Ä–æ–∫–∞ —Å –¥–µ—Ç–∞–ª—è–º–∏
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Ä–∞–±–æ—Ç—É –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è

```python
class DeathObserver(Observer):
    # –í–ê–® –ö–û–î –ó–î–ï–°–¨ - —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–ª–∞—Å—Å
    pass


# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
# death_observer = DeathObserver()
# player = Player("–ë–æ—Ä–∏—Å", health=50)
# player.attach(death_observer)
# 
# print(f"–ò–≥—Ä–æ–∫: {player.get_info()}")
# player.take_damage(60)  # –≠—Ç–æ –¥–æ–ª–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å —Å–º–µ—Ä—Ç—å –∏–≥—Ä–æ–∫–∞
# print(f"–ò–≥—Ä–æ–∫ –∂–∏–≤: {player.is_alive}")
```

<details>
<summary>–ü–æ–¥—Å–∫–∞–∑–∫–∞ (—Ä–∞—Å–∫—Ä–æ–π—Ç–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å)</summary>

```python
class DeathObserver(Observer):
    """
    –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ —Å–º–µ—Ä—Ç—å—é –∏–≥—Ä–æ–∫–∞
    """
    def update(self, event_type: str, data: dict = None):
        if event_type == "player_died":
            player = data.get("player")
            old_health = data.get("old_health", 0)
            new_health = data.get("new_health", 0)
            
            if player:
                print(f"üíÄ {player.name} –ø–æ–≥–∏–±–∞–µ—Ç! –ë—ã–ª–æ HP: {old_health}, —Å—Ç–∞–ª–æ HP: {new_health}")
```

</details>

#### –ó–∞–¥–∞–Ω–∏–µ 1.2: –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ–º –æ–ø—ã—Ç–∞

–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `ExperienceObserver`, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–ø—ã—Ç–∞ –∏–≥—Ä–æ–∫–æ–º –∏ –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ –æ–ø—ã—Ç–∞.

```python
class ExperienceObserver(Observer):
    # –í–ê–® –ö–û–î –ó–î–ï–°–¨ - —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–ª–∞—Å—Å
    pass


# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
# exp_observer = ExperienceObserver()
# player = Player("–ï–ª–µ–Ω–∞", health=100)
# player.attach(exp_observer)
# 
# print(f"–ò–≥—Ä–æ–∫: {player.get_info()}")
# player.gain_experience(75)
# print(f"–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø—ã—Ç–∞: {player.get_info()}")
```

<details>
<summary>–ü–æ–¥—Å–∫–∞–∑–∫–∞ (—Ä–∞—Å–∫—Ä–æ–π—Ç–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å)</summary>

```python
class ExperienceObserver(Observer):
    """
    –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ–º –æ–ø—ã—Ç–∞
    """
    def update(self, event_type: str, data: dict = None):
        if event_type == "player_gained_experience":
            player = data.get("player")
            exp_gained = data.get("exp_gained", 0)
            total_exp = data.get("total_exp", 0)
            
            if player:
                print(f"‚≠ê {player.name} –ø–æ–ª—É—á–∏–ª {exp_gained} –æ–ø—ã—Ç–∞! –í—Å–µ–≥–æ: {total_exp}")
```

</details>

### –£—Ä–æ–≤–µ–Ω—å 2 - –°—Ä–µ–¥–Ω–∏–π

#### –ó–∞–¥–∞–Ω–∏–µ 2.1: –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º callback-—Ñ—É–Ω–∫—Ü–∏–π

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º callback-—Ñ—É–Ω–∫—Ü–∏–π –≤–º–µ—Å—Ç–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `EventManager`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–π.

**–®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
1. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `EventManager` —Å –º–µ—Ç–æ–¥–∞–º–∏ `subscribe`, `unsubscribe`, `trigger_event`
2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –ø–æ —Ç–∏–ø—É
3. –î–æ–±–∞–≤—å—Ç–µ –≤—ã–∑–æ–≤ –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏–∏ —Å–æ–±—ã—Ç–∏—è
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏

```python
from typing import Callable, Dict

class EventManager:
    # –í–ê–® –ö–û–î –ó–î–ï–°–¨ - —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–ª–∞—Å—Å
    pass


# –ü—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
def player_damaged_handler(event_type: str, data: dict):
    # –í–ê–® –ö–û–î –ó–î–ï–°–¨ - —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
    pass

def enemy_defeated_handler(event_type: str, data: dict):
    # –í–ê–® –ö–û–î –ó–î–ï–°–¨ - —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
    pass

def level_up_handler(event_type: str, data: dict):
    # –í–ê–® –ö–û–î –ó–î–ï–°–¨ - —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
    pass


# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
# event_manager = EventManager()
# 
# # –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è
# event_manager.subscribe("player_damaged", player_damaged_handler)
# event_manager.subscribe("enemy_died", enemy_defeated_handler)
# event_manager.subscribe("player_leveled_up", level_up_handler)
# 
# # –í—ã–∑—ã–≤–∞–µ–º —Å–æ–±—ã—Ç–∏—è
# event_manager.trigger_event("player_damaged", {"player": Player("–ê—Ä—Ç—É—Ä"), "damage_amount": 25})
```

<details>
<summary>–ü–æ–¥—Å–∫–∞–∑–∫–∞ (—Ä–∞—Å–∫—Ä–æ–π—Ç–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å)</summary>

```python
from typing import Callable, Dict, List

class EventManager:
    """
    –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–æ–±—ã—Ç–∏–π –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–≥—Ä–æ–≤—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏
    """
    def __init__(self):
        self._event_handlers: Dict[str, List[Callable]] = {}

    def subscribe(self, event_type: str, handler: Callable):
        """–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ —Å–æ–±—ã—Ç–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞"""
        if event_type not in self._event_handlers:
            self._event_handlers[event_type] = []
        if handler not in self._event_handlers[event_type]:
            self._event_handlers[event_type].append(handler)

    def unsubscribe(self, event_type: str, handler: Callable):
        """–û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç —Å–æ–±—ã—Ç–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞"""
        if event_type in self._event_handlers:
            if handler in self._event_handlers[event_type]:
                self._event_handlers[event_type].remove(handler)
                # –£–¥–∞–ª—è–µ–º —Ç–∏–ø —Å–æ–±—ã—Ç–∏—è, –µ—Å–ª–∏ –±–æ–ª—å—à–µ –Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
                if not self._event_handlers[event_type]:
                    del self._event_handlers[event_type]

    def trigger_event(self, event_type: str, data: dict = None):
        """–í—ã–∑–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –∏ —É–≤–µ–¥–æ–º–∏—Ç—å –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤"""
        if event_type in self._event_handlers:
            # –°–æ–∑–¥–∞–µ–º –∫–æ–ø–∏—é —Å–ø–∏—Å–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –Ω–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –æ–Ω –∏–∑–º–µ–Ω–∏—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –≤—ã–∑–æ–≤–∞
            handlers_copy = self._event_handlers[event_type].copy()
            for handler in handlers_copy:
                try:
                    handler(event_type, data)
                except Exception as e:
                    print(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å–æ–±—ã—Ç–∏—è {event_type}: {e}")

    def get_subscribers_count(self, event_type: str) -> int:
        """–ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –Ω–∞ —Å–æ–±—ã—Ç–∏–µ"""
        return len(self._event_handlers.get(event_type, []))


# –ü—Ä–∏–º–µ—Ä—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
def player_damaged_handler(event_type: str, data: dict):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞ –∏–≥—Ä–æ–∫–æ–º"""
    if data and "player" in data and "damage_amount" in data:
        print(f"üõ°Ô∏è –ò–≥—Ä–æ–∫ {data['player'].name} –ø–æ–ª—É—á–∏–ª {data['damage_amount']} —É—Ä–æ–Ω–∞!")
        if hasattr(data['player'], 'health') and data['player'].health < data['player']._max_health * 0.3:
            print(f"‚ö†Ô∏è {data['player'].name} –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏!")

def enemy_defeated_handler(event_type: str, data: dict):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏—è –≤—Ä–∞–≥–∞"""
    if data and "enemy" in data:
        print(f"üíÄ –í—Ä–∞–≥ {data['enemy'].name} –ø–æ–≤–µ—Ä–∂–µ–Ω!")

def level_up_handler(event_type: str, data: dict):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è"""
    if data and "player" in data and "new_level" in data:
        print(f"üéâ {data['player'].name} –¥–æ—Å—Ç–∏–≥ {data['new_level']} —É—Ä–æ–≤–Ω—è!")
```

</details>

#### –ó–∞–¥–∞–Ω–∏–µ 2.2: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å

–£–ª—É—á—à–∏—Ç–µ –∫–ª–∞—Å—Å `Player` –∏–∑ –ø—Ä–∏–º–µ—Ä–∞ –≤—ã—à–µ, –¥–æ–±–∞–≤–∏–≤ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±—Ä–æ–Ω–∏, –º–∞–Ω—ã, –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏) –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ–± –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö.

```python
class Player(Subject):
    """
    –£–ª—É—á—à–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å –∏–≥—Ä–æ–∫–∞ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
    """
    def __init__(self, name: str, health: int = 100, mana: int = 50, stamina: int = 100):
        super().__init__()
        self.name = name
        self._health = health
        self._max_health = health
        self._mana = mana
        self._max_mana = mana
        self._stamina = stamina
        self._max_stamina = stamina
        self._level = 1
        self._experience = 0
        self._armor = 5
        self.is_alive = True

    # –í–ê–® –ö–û–î –ó–î–ï–°–¨ - –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π—Å—Ç–≤–∞ –∏ —Å–µ—Ç—Ç–µ—Ä—ã –¥–ª—è mana –∏ stamina
    # —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
    
    def use_mana(self, amount: int):
        # –í–ê–® –ö–û–î –ó–î–ï–°–¨ - —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∞–Ω—ã —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º
        pass

    def use_stamina(self, amount: int):
        # –í–ê–® –ö–û–î –ó–î–ï–°–¨ - —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º
        pass


# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
# player = Player("–ú–∞–≥", health=80, mana=100, stamina=80)
# 
# # –°–æ–∑–¥–∞–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π
# class ManaObserver(Observer):
#     def update(self, event_type: str, data: dict = None):
#         if event_type == "player_mana_changed":
#             player = data.get("player")
#             old_mana = data.get("old_mana", 0)
#             new_mana = data.get("new_mana", 0)
#             if player:
#                 print(f"üîµ {player.name} –∏–∑–º–µ–Ω–∏–ª–∞ –º–∞–Ω–∞: {old_mana} -> {new_mana}")
# 
# mana_observer = ManaObserver()
# player.attach(mana_observer)
# 
# print(f"–ò–≥—Ä–æ–∫: {player.get_info()}")
# player.use_mana(30)
```

<details>
<summary>–ü–æ–¥—Å–∫–∞–∑–∫–∞ (—Ä–∞—Å–∫—Ä–æ–π—Ç–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å)</summary>

```python
class Player(Subject):
    """
    –£–ª—É—á—à–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å –∏–≥—Ä–æ–∫–∞ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
    """
    def __init__(self, name: str, health: int = 100, mana: int = 50, stamina: int = 100):
        super().__init__()
        self.name = name
        self._health = health
        self._max_health = health
        self._mana = mana
        self._max_mana = mana
        self._stamina = stamina
        self._max_stamina = stamina
        self._level = 1
        self._experience = 0
        self._armor = 5
        self.is_alive = True

    @property
    def health(self):
        return self._health

    @health.setter
    def health(self, value: int):
        old_health = self._health
        self._health = max(0, min(self._max_health, value))
        if self._health <= 0:
            self._health = 0
            self.is_alive = False
            # –£–≤–µ–¥–æ–º–ª—è–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ —Å–º–µ—Ä—Ç–∏ –∏–≥—Ä–æ–∫–∞
            self.notify("player_died", {"player": self, "old_health": old_health, "new_health": self._health})
        elif old_health != self._health:
            # –£–≤–µ–¥–æ–º–ª—è–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–¥–æ—Ä–æ–≤—å—è
            self.notify("player_health_changed", {"player": self, "old_health": old_health, "new_health": self._health})

    @property
    def mana(self):
        return self._mana

    @mana.setter
    def mana(self, value: int):
        old_mana = self._mana
        self._mana = max(0, min(self._max_mana, value))
        if old_mana != self._mana:
            # –£–≤–µ–¥–æ–º–ª—è–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–∞–Ω—ã
            self.notify("player_mana_changed", {"player": self, "old_mana": old_mana, "new_mana": self._mana})

    @property
    def stamina(self):
        return self._stamina

    @stamina.setter
    def stamina(self, value: int):
        old_stamina = self._stamina
        self._stamina = max(0, min(self._max_stamina, value))
        if old_stamina != self._stamina:
            # –£–≤–µ–¥–æ–º–ª—è–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç–∏
            self.notify("player_stamina_changed", {"player": self, "old_stamina": old_stamina, "new_stamina": self._stamina})

    @property
    def level(self):
        return self._level

    @level.setter
    def level(self, value: int):
        old_level = self._level
        self._level = value
        if self._level > old_level:
            # –£–≤–µ–¥–æ–º–ª—è–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è
            self.notify("player_leveled_up", {"player": self, "old_level": old_level, "new_level": self._level})

    def take_damage(self, damage: int):
        """–ü–æ–ª—É—á–∏—Ç—å —É—Ä–æ–Ω"""
        # –£—á–∏—Ç—ã–≤–∞–µ–º –±—Ä–æ–Ω—é –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ —É—Ä–æ–Ω–∞
        actual_damage = max(1, damage - self._armor)
        self.health -= actual_damage
        self.notify("player_damaged", {"player": self, "damage_amount": actual_damage, "armor_reduced": self._armor})

    def gain_experience(self, exp: int):
        """–ü–æ–ª—É—á–∏—Ç—å –æ–ø—ã—Ç"""
        self._experience += exp
        self.notify("player_gained_experience", {"player": self, "exp_gained": exp, "total_exp": self._experience})
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω–µ –ø–æ—Ä–∞ –ª–∏ –ø–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å
        required_exp = self._level * 100  # –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞
        if self._experience >= required_exp:
            self.level_up()

    def level_up(self):
        """–ü–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –∏–≥—Ä–æ–∫–∞"""
        self._experience = 0  # –°–±—Ä–∞—Å—ã–≤–∞–µ–º –æ–ø—ã—Ç –ø—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —É—Ä–æ–≤–Ω—è
        self._level += 1
        self._max_health += 20  # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ
        self._max_mana += 15   # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –º–∞–Ω—É
        self._max_stamina += 10 # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å
        self.health = self._max_health  # –ü–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–¥–æ—Ä–æ–≤—å–µ
        self.mana = self._max_mana      # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –º–∞–Ω—É
        self.stamina = self._max_stamina # –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å
        self._armor += 2  # –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –±—Ä–æ–Ω—é
        self.level = self._level  # –í—ã–∑—ã–≤–∞–µ–º —Å–µ—Ç—Ç–µ—Ä –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

    def use_mana(self, amount: int):
        """–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∞–Ω—É"""
        if self._mana >= amount:
            old_mana = self._mana
            self._mana -= amount
            self.notify("player_mana_used", {"player": self, "mana_used": amount, "old_mana": old_mana, "new_mana": self._mana})
            return True
        else:
            self.notify("player_not_enough_mana", {"player": self, "required_mana": amount, "available_mana": self._mana})
            return False

    def use_stamina(self, amount: int):
        """–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å"""
        if self._stamina >= amount:
            old_stamina = self._stamina
            self._stamina -= amount
            self.notify("player_stamina_used", {"player": self, "stamina_used": amount, "old_stamina": old_stamina, "new_stamina": self._stamina})
            return True
        else:
            self.notify("player_not_enough_stamina", {"player": self, "required_stamina": amount, "available_stamina": self._stamina})
            return False

    def get_info(self):
        return f"{self.name}: Lvl.{self._level}, HP {self._health}/{self._max_health}, MP {self._mana}/{self._max_mana}, STA {self._stamina}/{self._max_stamina}, EXP {self._experience}, ARMOR {self._armor}"
```

</details>

### –£—Ä–æ–≤–µ–Ω—å 3 - –ü–æ–≤—ã—à–µ–Ω–Ω—ã–π

#### –ó–∞–¥–∞–Ω–∏–µ 3.1: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Observer

–°–æ–∑–¥–∞–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –Ω–∞–±–ª—é–¥–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–ª–∞—Å—Å—ã `AsyncObserver` –∏ `AsyncSubject`.

**–®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
1. –°–æ–∑–¥–∞–π—Ç–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å `AsyncObserver` —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –º–µ—Ç–æ–¥–æ–º `update_async`
2. –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `AsyncSubject` —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º –º–µ—Ç–æ–¥–æ–º `notify_async`
3. –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –æ—à–∏–±–∫–∏ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è—Ö
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è–º–∏

```python
import asyncio
from typing import List

class AsyncObserver(ABC):
    """
    –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å
    """
    @abstractmethod
    async def update_async(self, event_type: str, data: dict = None):
        """
        –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        """
        pass


class AsyncSubject:
    """
    –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å—É–±—ä–µ–∫—Ç, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º –º–æ–≥—É—Ç –Ω–∞–±–ª—é–¥–∞—Ç—å
    """
    def __init__(self):
        self._async_observers: List[AsyncObserver] = []

    def attach_async(self, observer: AsyncObserver):
        """–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"""
        if observer not in self._async_observers:
            self._async_observers.append(observer)

    def detach_async(self, observer: AsyncObserver):
        """–û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"""
        if observer in self._async_observers:
            self._async_observers.remove(observer)

    async def notify_async(self, event_type: str, data: dict = None):
        """
        –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —É–≤–µ–¥–æ–º–∏—Ç—å –≤—Å–µ—Ö –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π
        """
        # –í–ê–® –ö–û–î –ó–î–ï–°–¨ - —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        pass


class AsyncBattleLogger(AsyncObserver):
    """
    –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ª–æ–≥–≥–µ—Ä –±–æ–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
    """
    def __init__(self, filename: str = "battle_log.txt"):
        self.filename = filename
        self.log_entries = []

    async def update_async(self, event_type: str, data: dict = None):
        """
        –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏ –∑–∞–ø–∏—Å–∞—Ç—å –≤ –ª–æ–≥
        """
        # –í–ê–® –ö–û–î –ó–î–ï–°–¨ - —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É
        pass


# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏)
# async def test_async_observer():
#     subject = AsyncSubject()
#     
#     logger = AsyncBattleLogger()
#     subject.attach_async(logger)
#     
#     await subject.notify_async("player_damaged", {"player": "–ê—Ä—Ç—É—Ä", "damage": 25})
#     await asyncio.sleep(0.1)  # –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
# 
# # –î–ª—è –∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: asyncio.run(test_async_observer())
```

<details>
<summary>–ü–æ–¥—Å–∫–∞–∑–∫–∞ (—Ä–∞—Å–∫—Ä–æ–π—Ç–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å)</summary>

```python
import asyncio
from typing import List

class AsyncObserver(ABC):
    """
    –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å
    """
    @abstractmethod
    async def update_async(self, event_type: str, data: dict = None):
        """
        –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        """
        pass


class AsyncSubject:
    """
    –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å—É–±—ä–µ–∫—Ç, –∑–∞ –∫–æ—Ç–æ—Ä—ã–º –º–æ–≥—É—Ç –Ω–∞–±–ª—é–¥–∞—Ç—å
    """
    def __init__(self):
        self._async_observers: List[AsyncObserver] = []

    def attach_async(self, observer: AsyncObserver):
        """–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"""
        if observer not in self._async_observers:
            self._async_observers.append(observer)

    def detach_async(self, observer: AsyncObserver):
        """–û—Ç–ø–∏—Å–∞—Ç—å—Å—è –æ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"""
        if observer in self._async_observers:
            self._async_observers.remove(observer)

    async def notify_async(self, event_type: str, data: dict = None):
        """
        –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —É–≤–µ–¥–æ–º–∏—Ç—å –≤—Å–µ—Ö –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π
        """
        tasks = []
        for observer in self._async_observers:
            task = asyncio.create_task(observer.update_async(event_type, data))
            tasks.append(task)
        
        # –ñ–¥–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å–µ—Ö –∑–∞–¥–∞—á —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
        if tasks:
            results = await asyncio.gather(*tasks, return_exceptions=True)
            # –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
            for i, result in enumerate(results):
                if isinstance(result, Exception):
                    print(f"–û—à–∏–±–∫–∞ –≤ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ {i}: {result}")


class AsyncBattleLogger(AsyncObserver):
    """
    –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –ª–æ–≥–≥–µ—Ä –±–æ–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
    """
    def __init__(self, filename: str = "battle_log.txt"):
        self.filename = filename
        self.log_entries = []

    async def update_async(self, event_type: str, data: dict = None):
        """
        –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –∏ –∑–∞–ø–∏—Å–∞—Ç—å –≤ –ª–æ–≥
        """
        import time
        timestamp = time.strftime("%Y-%m-%d %H:%M:%S")
        log_entry = f"[{timestamp}] {event_type}: {data}"
        self.log_entries.append(log_entry)
        print(f"[ASYNC_LOGGER] –ó–∞–ø–∏—Å–∞–Ω–æ: {log_entry}")
        
        # –ò–º–∏—Ç–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ –≤ —Ñ–∞–π–ª
        await asyncio.sleep(0.05)  # –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ I/O –æ–ø–µ—Ä–∞—Ü–∏–∏


class AsyncAchievementNotifier(AsyncObserver):
    """
    –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
    """
    def __init__(self):
        self.unlocked_achievements = []

    async def update_async(self, event_type: str, data: dict = None):
        """
        –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
        """
        # –ò–º–∏—Ç–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É)
        await asyncio.sleep(0.1)  # –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã
        
        if event_type == "player_damaged" and data and data.get("damage_amount", 0) >= 50:
            achievement = "–í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å: –í—ã–¥–µ—Ä–∂–∞–ª —Å–∏–ª—å–Ω—ã–π —É–¥–∞—Ä"
            self.unlocked_achievements.append(achievement)
            print(f"[ASYNC_ACHIEVEMENT] –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: {achievement}")
        elif event_type == "player_leveled_up" and data and data.get("new_level", 0) >= 10:
            achievement = "–û–ø—ã—Ç–Ω—ã–π –≤–æ–∏–Ω: –î–æ—Å—Ç–∏–≥ 10 —É—Ä–æ–≤–Ω—è"
            self.unlocked_achievements.append(achievement)
            print(f"[ASYNC_ACHIEVEMENT] –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: {achievement}")


# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
async def test_async_observer():
    subject = AsyncSubject()
    
    logger = AsyncBattleLogger()
    achievements = AsyncAchievementNotifier()
    
    subject.attach_async(logger)
    subject.attach_async(achievements)
    
    print("=== –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è —Å–æ–±—ã—Ç–∏–π ===")
    
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–±—ã—Ç–∏–π
    await subject.notify_async("player_damaged", {"player": "–ê—Ä—Ç—É—Ä", "damage_amount": 25})
    await subject.notify_async("player_leveled_up", {"player": "–ê—Ä—Ç—É—Ä", "new_level": 10})
    await subject.notify_async("player_gained_experience", {"player": "–ê—Ä—Ç—É—Ä", "exp_gained": 150})
    
    print(f"\n–ó–∞–ø–∏—Å–∏ –≤ –ª–æ–≥–µ: {len(logger.log_entries)}")
    print(f"–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è: {len(achievements.unlocked_achievements)}")
    for achievement in achievements.unlocked_achievements:
        print(f"  - {achievement}")
```

</details>

---

## 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –¥–ª—è –∏–≥—Ä–æ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π

### –ü—Ä–∏–º–µ—Ä 1: –ö–ª–∞—Å—Å PlayerObserver

```python
class PlayerObserver(Observer):
    """
    –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –∏–≥—Ä–æ–∫–∞
    """
    def __init__(self, name: str):
        self.name = name
        self.observed_events = []

    def update(self, event_type: str, data: dict = None):
        """
        –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –∏—Å—Ç–æ—Ä–∏–∏
        """
        event_record = {
            "event_type": event_type,
            "data": data,
            "timestamp": __import__('time').time()
        }
        self.observed_events.append(event_record)
        
        # –í—ã–≤–æ–¥–∏–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–±—ã—Ç–∏–∏
        if event_type == "player_damaged":
            player = data.get("player") if data else None
            damage = data.get("damage_amount", 0) if data else 0
            print(f"[{self.name}] –ò–≥—Ä–æ–∫ {player.name if player else '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π'} –ø–æ–ª—É—á–∏–ª {damage} —É—Ä–æ–Ω–∞")
        elif event_type == "player_leveled_up":
            player = data.get("player") if data else None
            new_level = data.get("new_level", "N/A") if data else "N/A"
            print(f"[{self.name}] –ò–≥—Ä–æ–∫ {player.name if player else '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π'} –¥–æ—Å—Ç–∏–≥ {new_level} —É—Ä–æ–≤–Ω—è!")
        elif event_type == "player_gained_experience":
            player = data.get("player") if data else None
            exp_gained = data.get("exp_gained", 0) if data else 0
            print(f"[{self.name}] –ò–≥—Ä–æ–∫ {player.name if player else '–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π'} –ø–æ–ª—É—á–∏–ª {exp_gained} –æ–ø—ã—Ç–∞")

    def get_observation_summary(self):
        """
        –ü–æ–ª—É—á–∏—Ç—å –∫—Ä–∞—Ç–∫—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –Ω–∞–±–ª—é–¥–µ–Ω–∏–π
        """
        event_counts = {}
        for event in self.observed_events:
            event_type = event["event_type"]
            event_counts[event_type] = event_counts.get(event_type, 0) + 1
        
        return event_counts


# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
player = Player("–ì–µ—Ä–æ–π", health=100, mana=50, stamina=100)

# –°–æ–∑–¥–∞–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è
player_observer = PlayerObserver("–ê–Ω–∞–ª–∏—Ç–∏–∫")
player.attach(player_observer)

print(f"–ò–≥—Ä–æ–∫: {player.get_info()}")

# –í—ã–ø–æ–ª–Ω—è–µ–º –¥–µ–π—Å—Ç–≤–∏—è, –≤—ã–∑—ã–≤–∞—é—â–∏–µ —Å–æ–±—ã—Ç–∏—è
player.take_damage(20)
player.gain_experience(100)
player.use_mana(15)
player.use_stamina(25)

print(f"\n–ö—Ä–∞—Ç–∫–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π:")
summary = player_observer.get_observation_summary()
for event_type, count in summary.items():
    print(f"  {event_type}: {count} —Ä–∞–∑(–∞)")

print(f"\n–í—Å–µ–≥–æ —Å–æ–±—ã—Ç–∏–π –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–æ: {len(player_observer.observed_events)}")
```

### –ü—Ä–∏–º–µ—Ä 2: –ö–ª–∞—Å—Å GameEventPublisher

```python
class GameEventPublisher(Subject):
    """
    –ü—É–±–ª–∏–∫–∞—Ç–æ—Ä –∏–≥—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π
    """
    def __init__(self, name: str):
        super().__init__()
        self.name = name

    def publish_event(self, event_type: str, data: dict = None):
        """
        –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ –∏ —É–≤–µ–¥–æ–º–∏—Ç—å –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
        """
        print(f"[{self.name}] –ü—É–±–ª–∏–∫—É–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ: {event_type}")
        self.notify(event_type, data)


# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
event_publisher = GameEventPublisher("–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —É–≤–µ–¥–æ–º–ª—è—Ç–æ—Ä")

# –ü–æ–¥–∫–ª—é—á–∞–µ–º –∫ –Ω–µ–º—É —Ç–µ—Ö –∂–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π
death_observer = DeathObserver()
exp_observer = ExperienceObserver()

event_publisher.attach(death_observer)
event_publisher.attach(exp_observer)

print(f"\n--- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GameEventPublisher ---")
event_publisher.publish_event("player_died", {"player": player, "reason": "—Å–º–µ—Ä—Ç—å –æ—Ç —Å—Ç–∞—Ä–æ—Å—Ç–∏"})
event_publisher.publish_event("player_gained_experience", {"player": player, "exp_gained": 50})
```

---

## 2. –ù–∞–±–ª—é–¥–∞—Ç–µ–ª–∏ –∏ —Å—É–±—ä–µ–∫—Ç—ã –≤ –∏–≥—Ä–æ–≤–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

### –ù–∞–±–ª—é–¥–∞—Ç–µ–ª–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏–≥—Ä–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º

```python
class InventoryObserver(Observer):
    """
    –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ
    """
    def update(self, event_type: str, data: dict = None):
        if event_type == "item_added":
            item = data.get("item") if data else None
            player = data.get("player") if data else None
            if item and player:
                print(f"üéí {player.name} –ø–æ–ª—É—á–∏–ª –ø—Ä–µ–¥–º–µ—Ç: {item}")
        elif event_type == "item_removed":
            item = data.get("item") if data else None
            player = data.get("player") if data else None
            if item and player:
                print(f"‚ùå {player.name} –ø–æ—Ç–µ—Ä—è–ª –ø—Ä–µ–¥–º–µ—Ç: {item}")


class QuestObserver(Observer):
    """
    –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –∫–≤–µ—Å—Ç–æ–≤
    """
    def update(self, event_type: str, data: dict = None):
        if event_type == "quest_started":
            quest = data.get("quest") if data else None
            player = data.get("player") if data else None
            if quest and player:
                print(f"üìú {player.name} –Ω–∞—á–∞–ª –∫–≤–µ—Å—Ç: {quest}")
        elif event_type == "quest_completed":
            quest = data.get("quest") if data else None
            player = data.get("player") if data else None
            if quest and player:
                print(f"‚úÖ {player.name} –∑–∞–≤–µ—Ä—à–∏–ª –∫–≤–µ—Å—Ç: {quest}")


class SocialObserver(Observer):
    """
    –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏
    """
    def update(self, event_type: str, data: dict = None):
        if event_type == "player_joined":
            player = data.get("player") if data else None
            if player:
                print(f"üë• {player.name} –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è –∫ –∏–≥—Ä–µ")
        elif event_type == "player_left":
            player = data.get("player") if data else None
            if player:
                print(f"üëã {player.name} –ø–æ–∫–∏–Ω—É–ª –∏–≥—Ä—É")
        elif event_type == "friend_request_sent":
            sender = data.get("sender") if data else None
            receiver = data.get("receiver") if data else None
            if sender and receiver:
                print(f"üíå {sender.name} –æ—Ç–ø—Ä–∞–≤–∏–ª –∑–∞–ø—Ä–æ—Å –Ω–∞ –¥—Ä—É–∂–±—É {receiver.name}")
```

---

## 3. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞–Ω–∏—è –≤ –∏–≥—Ä–æ–≤–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ

### –ó–∞–¥–∞–Ω–∏–µ 1: –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Å–º–µ—Ä—Ç–∏ –≤—Ä–∞–≥–æ–≤

–°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç —Å–º–µ—Ä—Ç—å –≤—Ä–∞–≥–æ–≤ –∏ —Ä–µ–∞–≥–∏—Ä—É—é—Ç –Ω–∞ —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞—á–∏—Å–ª—è—é—Ç –æ–ø—ã—Ç –∏–≥—Ä–æ–∫—É, –¥–æ–±–∞–≤–ª—è—é—Ç –º–æ–Ω–µ—Ç—ã –∏ —Ç.–¥.).

```python
class Enemy(Subject):
    """
    –ö–ª–∞—Å—Å –≤—Ä–∞–≥–∞ –∫–∞–∫ –Ω–∞–±–ª—é–¥–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç
    """
    def __init__(self, name: str, health: int, attack_power: int, enemy_type: str = "common"):
        super().__init__()
        self.name = name
        self._health = health
        self._max_health = health
        self.attack_power = attack_power
        self.enemy_type = enemy_type
        self.is_alive = True

    @property
    def health(self):
        return self._health

    @health.setter
    def health(self, value: int):
        old_health = self._health
        self._health = max(0, min(self._max_health, value))
        if self._health <= 0:
            self._health = 0
            self.is_alive = False
            # –£–≤–µ–¥–æ–º–ª—è–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ —Å–º–µ—Ä—Ç–∏ –≤—Ä–∞–≥–∞
            self.notify("enemy_died", {"enemy": self, "old_health": old_health, "new_health": self._health})
        elif old_health != self._health:
            # –£–≤–µ–¥–æ–º–ª—è–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–¥–æ—Ä–æ–≤—å—è
            self.notify("enemy_health_changed", {"enemy": self, "old_health": old_health, "new_health": self._health})

    def take_damage(self, damage: int):
        """–ü–æ–ª—É—á–∏—Ç—å —É—Ä–æ–Ω"""
        self.health -= damage
        self.notify("enemy_damaged", {"enemy": self, "damage_amount": damage})


class EnemyDeathRewardObserver(Observer):
    """
    –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å, –Ω–∞—á–∏—Å–ª—è—é—â–∏–π –Ω–∞–≥—Ä–∞–¥—É –∑–∞ —Å–º–µ—Ä—Ç—å –≤—Ä–∞–≥–∞
    """
    def __init__(self, player):
        self.player = player

    def update(self, event_type: str, data: dict = None):
        if event_type == "enemy_died":
            enemy = data.get("enemy") if data else None
            if enemy:
                # –ù–∞—á–∏—Å–ª—è–µ–º –æ–ø—ã—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –≤—Ä–∞–≥–∞
                exp_reward = {"common": 10, "elite": 25, "boss": 50}.get(enemy.enemy_type, 10)
                self.player.gain_experience(exp_reward)
                
                # –ù–∞—á–∏—Å–ª—è–µ–º –∑–æ–ª–æ—Ç–æ
                gold_reward = {"common": 5, "elite": 15, "boss": 30}.get(enemy.enemy_type, 5)
                if hasattr(self.player, '_gold'):
                    self.player._gold += gold_reward
                
                print(f"üèÜ –ó–∞ —É–±–∏–π—Å—Ç–≤–æ {enemy.name} ({enemy.enemy_type}) –ø–æ–ª—É—á–µ–Ω–æ: {exp_reward} XP, {gold_reward} –∑–æ–ª–æ—Ç–∞")


# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
player = Player("–†—ã—Ü–∞—Ä—å", health=150)
enemy = Enemy("–ì–æ–±–ª–∏–Ω", health=50, attack_power=10, enemy_type="common")

# –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è
reward_observer = EnemyDeathRewardObserver(player)
enemy.attach(reward_observer)

print(f"–ò–≥—Ä–æ–∫: {player.get_info()}")
print(f"–í—Ä–∞–≥: {enemy.name}, –∑–¥–æ—Ä–æ–≤—å–µ: {enemy.health}")

# –£–±–∏–≤–∞–µ–º –≤—Ä–∞–≥–∞
enemy.take_damage(60)

print(f"\n–ü–æ—Å–ª–µ —É–±–∏–π—Å—Ç–≤–∞ –≤—Ä–∞–≥–∞:")
print(f"–ò–≥—Ä–æ–∫: {player.get_info()}")
```

### –ó–∞–¥–∞–Ω–∏–µ 2: –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∫–≤–µ—Å—Ç–∞—Ö

–°–æ–∑–¥–∞–π—Ç–µ —Å–∏—Å—Ç–µ–º—É, –≥–¥–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–≤–µ—Å—Ç–æ–≤, –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥ –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ –Ω–æ–≤—ã—Ö –∫–≤–µ—Å—Ç–æ–≤.

```python
class Quest:
    """
    –ö–ª–∞—Å—Å –∫–≤–µ—Å—Ç–∞
    """
    def __init__(self, title: str, description: str, xp_reward: int, gold_reward: int):
        self.title = title
        self.description = description
        self.xp_reward = xp_reward
        self.gold_reward = gold_reward
        self.is_completed = False
        self.progress = 0
        self.goal = 10  # –£—Å–ª–æ–≤–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ü–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —É–±–∏—Ç—å 10 –º–æ–Ω—Å—Ç—Ä–æ–≤)

    def update_progress(self, amount: int = 1):
        """–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–∞"""
        self.progress = min(self.goal, self.progress + amount)
        if self.progress >= self.goal:
            self.complete()

    def complete(self):
        """–ó–∞–≤–µ—Ä—à–∏—Ç—å –∫–≤–µ—Å—Ç"""
        self.is_completed = True


class QuestProgressObserver(Observer):
    """
    –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å –∑–∞ –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –∫–≤–µ—Å—Ç–∞
    """
    def update(self, event_type: str, data: dict = None):
        if event_type == "quest_progress_updated":
            quest = data.get("quest")
            progress = data.get("progress", 0)
            goal = data.get("goal", 1)
            if quest:
                percentage = (progress / goal) * 100
                print(f"üéØ –ü—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–∞ '{quest.title}': {percentage:.1f}% ({progress}/{goal})")
        elif event_type == "quest_completed":
            quest = data.get("quest")
            player = data.get("player")
            if quest and player:
                print(f"üéä –ö–≤–µ—Å—Ç '{quest.title}' –∑–∞–≤–µ—Ä—à–µ–Ω –∏–≥—Ä–æ–∫–æ–º {player.name}!")
                print(f"  –ù–∞–≥—Ä–∞–¥–∞: {quest.xp_reward} XP, {quest.gold_reward} –∑–æ–ª–æ—Ç–∞")


class QuestManager(Subject):
    """
    –ú–µ–Ω–µ–¥–∂–µ—Ä –∫–≤–µ—Å—Ç–æ–≤
    """
    def __init__(self):
        super().__init__()
        self.quests = []

    def add_quest(self, quest: Quest):
        """–î–æ–±–∞–≤–∏—Ç—å –∫–≤–µ—Å—Ç"""
        self.quests.append(quest)
        self.notify("quest_added", {"quest": quest})

    def update_quest_progress(self, quest: Quest, amount: int = 1):
        """–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–∞"""
        old_progress = quest.progress
        quest.update_progress(amount)
        self.notify("quest_progress_updated", {
            "quest": quest,
            "old_progress": old_progress,
            "progress": quest.progress,
            "goal": quest.goal
        })
        if quest.is_completed:
            self.notify("quest_completed", {"quest": quest})


# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –∫–≤–µ—Å—Ç–æ–≤
quest_manager = QuestManager()
quest_observer = QuestProgressObserver()

# –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è
quest_manager.attach(quest_observer)

# –°–æ–∑–¥–∞–µ–º –∫–≤–µ—Å—Ç
kill_goblins_quest = Quest("–£–±–∏—Ç—å –≥–æ–±–ª–∏–Ω–æ–≤", "–£–±–µ–π—Ç–µ 5 –≥–æ–±–ª–∏–Ω–æ–≤ –≤ –ª–µ—Å—É", 100, 50)

# –î–æ–±–∞–≤–ª—è–µ–º –∫–≤–µ—Å—Ç –≤ –º–µ–Ω–µ–¥–∂–µ—Ä
quest_manager.add_quest(kill_goblins_quest)

print(f"\n–ö–≤–µ—Å—Ç: {kill_goblins_quest.title}")
print(f"–û–ø–∏—Å–∞–Ω–∏–µ: {kill_goblins_quest.description}")

# –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å –∫–≤–µ—Å—Ç–∞
for i in range(5):
    quest_manager.update_quest_progress(kill_goblins_quest)
    print(f"  –£–±–∏—Ç –≥–æ–±–ª–∏–Ω #{i+1}")

print(f"\n–ö–≤–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω: {kill_goblins_quest.is_completed}")
```

### –ó–∞–¥–∞–Ω–∏–µ 3: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π Observer

–°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ Observer (–æ–±—ã—á–Ω—ã–π, —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π) –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º: —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –≥–∏–±–∫–æ—Å—Ç—å, –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å –≤ –∏–≥—Ä–æ–≤–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã, –∫–æ–≥–¥–∞ –∫–∞–∂–¥—ã–π —Ç–∏–ø –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è –Ω–∞–∏–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –≤ –∏–≥—Ä–æ–≤–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.

```python
def compare_observers():
    """
    –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ Observer
    """
    comparison = {
        "–û–±—ã—á–Ω—ã–π Observer": {
            "–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏": "–ù–∏–∑–∫–∞—è",
            "–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å": "–í—ã—Å–æ–∫–∞—è",
            "–ì–∏–±–∫–æ—Å—Ç—å": "–°—Ä–µ–¥–Ω—è—è",
            "–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å –≤ –∏–≥—Ä–∞—Ö": "–ü—Ä–æ—Å—Ç—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —Ç–∞–∫–∏–µ –∫–∞–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–¥–æ—Ä–æ–≤—å—è, —É—Ä–æ–≤–Ω—è –∏ —Ç.–ø."
        },
        "Observer —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π": {
            "–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏": "–°—Ä–µ–¥–Ω—è—è",
            "–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å": "–°—Ä–µ–¥–Ω—è—è",
            "–ì–∏–±–∫–æ—Å—Ç—å": "–í—ã—Å–æ–∫–∞—è",
            "–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å –≤ –∏–≥—Ä–∞—Ö": "–°–∏—Å—Ç–µ–º—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π, –≥–¥–µ –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ"
        },
        "–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π Observer": {
            "–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏": "–í—ã—Å–æ–∫–∞—è",
            "–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å": "–í—ã—Å–æ–∫–∞—è (–¥–ª—è I/O –æ–ø–µ—Ä–∞—Ü–∏–π)",
            "–ì–∏–±–∫–æ—Å—Ç—å": "–í—ã—Å–æ–∫–∞—è",
            "–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å –≤ –∏–≥—Ä–∞—Ö": "–°–∏—Å—Ç–µ–º—ã —Å —Ç—è–∂–µ–ª—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ (–∑–∞–ø–∏—Å—å –≤ –ë–î, —Å–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã)"
        }
    }

    print("–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ Observer –≤ –∏–≥—Ä–æ–≤–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ:")
    print("-" * 80)
    print(f"{'–¢–∏–ø Observer':<20} {'–°–ª–æ–∂–Ω–æ—Å—Ç—å':<12} {'–ü—Ä–æ–∏–∑–≤.':<10} {'–ì–∏–±–∫–æ—Å—Ç—å':<10} {'–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å':<30}")
    print("-" * 80)

    for observer_type, props in comparison.items():
        print(f"{observer_type:<20} {props['–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏']:<12} {props['–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å']:<10} {props['–ì–∏–±–∫–æ—Å—Ç—å']:<10} {props['–ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å –≤ –∏–≥—Ä–∞—Ö']:<30}")

compare_observers()
```

---

## 4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è

### –ó–∞–¥–∞–Ω–∏–µ 4: –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –∏–≥—Ä–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

–°–æ–∑–¥–∞–π—Ç–µ –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ª–æ–∂–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π –º–µ—Ö–∞–Ω–∏–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–±–æ-–∞—Ç–∞–∫, –≥–¥–µ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –±–æ–Ω—É—Å—ã).

### –ó–∞–¥–∞–Ω–∏–µ 5: –°–∏—Å—Ç–µ–º–∞ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É, –≥–¥–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è—Ç—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–≥—Ä–æ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –±–∞—Ñ—ã/–¥–µ–±–∞—Ñ—ã, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–∞).

---

## –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã:
1. –í —á–µ–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Observer –∏ Publisher-Subscriber –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º–∏ –≤ –∏–≥—Ä–æ–≤–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ?
2. –ö–∞–∫ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π —Å—Ä–µ–¥–µ?
3. –ö–∞–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Observer –≤ —Å–∏—Å—Ç–µ–º–∞—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏–≥—Ä–æ–∫–æ–≤?
4. –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –≤ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è—Ö, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥—Ä—É–≥–∏—Ö –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–µ–π?
5. –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Observer –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–∞–±–æ—Å–≤—è–∑–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏–≥—Ä–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º?