# Домашнее задание 5: Интеграция с базами данных

## Цель задания
Закрепить знания по работе с базами данных, включая создание моделей, выполнение запросов, работу с транзакциями и оптимизацию производительности с использованием SQLAlchemy и SQLite.

## Задачи

### Задача 1: Модели данных (25 баллов)
Создайте модели для системы управления студентами с использованием SQLAlchemy:
- Модель Student с полями: id, имя, фамилия, email, дата рождения
- Модель Course с полями: id, название, описание, количество кредитов
- Модель Enrollment с полями: id, student_id, course_id, дата регистрации
- Реализуйте отношения между моделями (один ко многим, многие ко многим)

### Задача 2: Запросы к базе данных (25 баллов)
Реализуйте функции для выполнения следующих операций:
- Получение всех студентов, записанных на определенный курс
- Получение среднего количества кредитов по всем курсам
- Получение студентов, зарегистрированных после определенной даты
- Обновление информации о студенте
- Удаление студента и всех его записей на курсы

### Задача 3: Транзакции и оптимизация (25 баллов)
- Реализуйте функцию регистрации студента на курс с использованием транзакций
- Добавьте проверку, что курс не переполнен (ограничение мест)
- Оптимизируйте запросы с использованием индексов
- Реализуйте пагинацию для получения списка студентов

### Задача 4: Миграции и безопасность (25 баллов)
- Создайте систему миграций для ваших моделей
- Реализуйте защиту от SQL-инъекций
- Добавьте валидацию входных данных
- Обеспечьте безопасное хранение чувствительной информации

## Требования к оформлению

1. Все функции и классы должны иметь docstring
2. Код должен соответствовать PEP 8
3. Добавьте аннотации типов
4. Используйте контекстные менеджеры для работы с сессиями
5. Реализуйте обработку исключений
6. Добавьте логирование операций с базой данных

## Срок сдачи
Через 2 недели с момента выдачи задания

## Критерии оценки
- Правильность реализации моделей данных: 25%
- Качество выполнения запросов: 25%
- Использование транзакций и оптимизация: 25%
- Безопасность и обработка ошибок: 25%

## Формат сдачи
Создайте Python-файл с решением и отправьте через систему управления обучением.